---
- include: postgresql_org_repo.yml
  when: pg_use_postgresql_org_repo
- include: packages.yml
  when: psql_postgresql_install
- include: postgis.yml
  when: postgres_install_gis_extensions
- include: postgresql-config.yml
  when: psql_postgresql_install
- include: postgresql-ssl-config.yml
  when: psql_postgresql_install
- include: psql-kernel-sharedmem.yml
  when:
    - psql_postgresql_install 
    - psql_set_shared_memory
- include: configure-access.yml
  when:
    - psql_postgresql_install
    - psql_db_data is defined
- include: postgresql-service-status.yml
  when: psql_postgresql_install
- include: postgres_pgpool.yml
  when: psql_pgpool_install
- include: manage_pg_db.yml
  when:
    - psql_postgresql_install
    - psql_db_data is defined
- include: postgresql-backup.yml
  when:
    - psql_postgresql_install
    - psql_db_data is defined
- include: pgpool-ii.yml
  when: psql_pgpool_service_install
- include: postgresql-letsencrypt-acmetool.yml
  when:
    - postgresql_letsencrypt_managed
    - letsencrypt_acme_install is defined
- include: pgpool-letsencrypt-acmetool.yml
  when:
    - pgpool_letsencrypt_managed
    - letsencrypt_acme_install is defined


