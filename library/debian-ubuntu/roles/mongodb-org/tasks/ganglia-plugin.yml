---
# 
# The ganglia plugin comes from https://github.com/ganglia/gmond_python_modules
#
- name: Install the ganglia plugin for MongoDB
  copy: src=mongodb.py dest=/usr/lib/ganglia/python_modules/mongodb.py owner=root group=root mode=0444
  notify: Restart ganglia monitor
  tags: [ 'ganglia', 'mongodb' ]

- name: Distribute the ganglia (gmond) configuration for the MongoDB plugin
  template: src=mongodb.pyconf.j2 dest=/etc/ganglia/conf.d/mongodb.pyconf owner=root group=root mode=0444
  notify: Restart ganglia monitor
  tags: [ 'ganglia', 'mongodb' ]

